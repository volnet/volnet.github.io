主数据平台文档目录（Table of Contents）
===================================

> 标签：主数据/安装/运维

> 本工作首次完成时间于：2016-04-04

> 本文档适用：主数据运维人员、开发人员、项目经理、业务系统支持人员

基本介绍（What is mdp platform）
----------------------------

> 主数据的基本介绍（大约1-2句话，让新人有个直观感受），包括它的后台实现原理实际上是个SQLServer服务器。

> 主数据系统的模块介绍，包含SQLServer、ETL、作业任务、运维网站、后台回调网站等，并用架构图画清楚相关的关系。

用户范围（Who use it）
---------------------

> 提供两个简易的表格，第一个介绍适用范围、第二个介绍明确不适用范围（含不建议使用、绝对不能用的）。

> 每行一个标准场景。

工作流程
-------

> 运维人员：接收到用户需求的时候，如何进行标准回答，如何完成配置，如何确保工作的正确性，并如何交付业务系统相关结果。

> 业务人员：（项目经理/开发人员），有哪些职责，他们需要什么来配合主数据工作。

标准运维
-------

1. 快速入门（Getting Started）

    > 实现一个标准的配置，推送一个数据表，包含多种常见字段类型的数据表的示例表。
    
    > 完成 SQLServer.Table1 to MDP to SQLServer.Table1_Readonly 的标准推送配置。

2. 基本概念（basic concepts）

    > 源系统：是什么意思，有什么基本要求
    
    > 中间表：是什么意思，作用是什么
    
    > 目标表：是什么意思，相关MDP_*字段是什么用的
    
    > 配置过程中出现的各种配置是什么意思：
    
    > 全量抽取：是什么意思，作用是什么，如何实现的
    
    > 全量推送：是什么意思，作用是什么，如何实现的
    
    > 增量抽取：是什么意思，作用是什么，如何实现的
    
    > 回调：是什么意思，有几种方式，如何实现的
    
    > 推送频率：是什么意思，有什么需要注意的
     
    **请尽量使用1-2句话简要描述以上概念**
    
3. 常见动作 － 仅配置对接系统

    > 以人员配置为例子，讲解已经存在源系统配置的情况下，如何仅配置对接系统，并完成推送。

4. 常见动作 － 源系统到目标系统的约定推送

    > 基于主数据平台的标准推送（非海量数据推送）
    
    >   > 适用场景、数据特征、频率特征等
    
    >   > 具体推送配置可以参考《标准功能－快速入门－Getting Started》并提供链接。
    
    > 海量数据推送
    
    >   > 适用场景、数据特征、频率特征等
    
    >   > 具体推送配置可以参考《高级功能－海量数据推送》并提供链接。
    
5. 支持列表

    > 使用表格形式来描述
    
    > 支持的数据库类型、数据规模
    
    > 数据结构对照表（比如sqlserver中的nvarchar -> oracle 中的varchar2）

高级功能
-------

1. 回调的配置

    > 回调的详细介绍，回调的分类（罗列所有的回调，但后续仅介绍存储过程式回调）
    
    > 配置步骤（在Getting Started的示例基础上继续演示）

2. 海量数据推送

    > 海量数据的工作原理
    
    > 海量数据的适用范围
    
    > 海量数据的配置步骤
   
3. 配置约束（DQ）

    > 约束的作用
    
    > 如何合理使用约束
    
    > DQ使用的注意事项：比如DQ的值在数据库中会日积月累地越来也多，如何通过数据库找到该表并进行truncate操作等。
    
4. 配置错误通知

    > 如何配置错误通知人，涉及源系统错误通知人、中间表系统错误通知人、对接系统系统错误通知人。

5. 业务系统数据库迁移工作流程

    > 明确适用范围，风险解释，可能对业务的影响，对业务系统的要求（比如，数据不能清理等）
    
    > 操作步骤（不仅要提供我们的操作步骤，还要提供业务系统数据库操作的相关时间点，比如我们应该在什么时候开始操作）
    
    > 检验是否恢复成功的步骤。

6. 多表合并->差异化目标表

    > 源系统：ts1 ts2 join on ts1.col1 = ts2.col2
    
    > 目标表：tt1 接收所有数据、tt2 接受部分数据列、tt3 接受部分行数据（colx <> xx）的数据    

7. 如何部署一套主数据平台

    > 系统依赖（包括组件的约束、版本约束等）
    
    > 安装步骤
    
    > 验证步骤，如果其他步骤上已经有的，请提供链接，并引导用户使用相关手册进行验证），如果没有的步骤，比如检查运维网站是否安装成功，检查回调网站是否安装成功。

常见问题
-------

1. 对接系统未收到数据问题排查

    > 用户应该提供哪些信息？
    
    > 运维人员收到信息后，应该如何查找问题。
    
    > 包括如何通过问题找到对应的库、如何通过系统界面进行查询。
    
    > 常见的几类问题分类，并进行排查讲解。

2. 海量数据推送错误查询

    > 用户应该提供哪些信息？
    
    > 运维人员收到信息后，应该如何查找问题。
    
    > 包括如何通过问题找到对应的库、如何通过SQLServer Management Studio进行问题分析。
    
    > 常见的积累问题分类，并进行排查讲解。
    
3. 如何查找某个系统的推送频率

    > 如何通过运维界面查询一般配置的推送频率，界面数据的解读
    
    > 如何通过主数据数据库查询相应的推送频率
    
    > 如何查询海量数据推送的频率

资源下载（Resources）
------------------

1. 运维资源
    
    - 源系统信息表格

    - 对接系统信息表格
    
    - ......

2. 安装程序（安装包路径，可以是TFS路径、服务器路径等，不能包含访问的用户名密码等）

联系我们
-------

> 运维支持人员，联系方式

> 节假日紧急支持方式